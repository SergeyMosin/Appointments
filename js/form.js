!function(){function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}!function(){"use strict";var n=document.getElementById("tokenSwissPost");function d(){var e=document.getElementById("list");null!=e&&e.remove()}function i(e){if(""!=e.originalTarget.value){var t="https://wedec.post.ch/api/address/v1/zips?"+new URLSearchParams({zipCity:e.originalTarget.value,type:"DOMICILE"}),n=sessionStorage.getItem("tokenSwissPost");fetch(t,{headers:{Authorization:n}}).then((function(e){return e.json()})).then((function(t){return s(e.originalTarget,t.zips)}))}else s(e.originalTarget,[])}function r(e){if(""!=e.originalTarget.value){var t=document.getElementById("srgdev-ncfp_fnpa"),n="https://wedec.post.ch/api/address/v1/streets?"+new URLSearchParams({name:e.originalTarget.value,zip:t.value,type:"DOMICILE"}),d=sessionStorage.getItem("tokenSwissPost");fetch(n,{headers:{Authorization:d}}).then((function(e){return e.json()})).then((function(t){return s(e.originalTarget,t.streets)}))}else s(e.originalTarget,[])}function a(e){if(""!=e.originalTarget.value){var t=document.getElementById("srgdev-ncfp_fnpa"),n=document.getElementById("srgdev-ncfp_fadress"),d="https://wedec.post.ch/api/address/v1/houses?"+new URLSearchParams({zip:t.value,streetname:n.value,number:e.originalTarget.value}),i=sessionStorage.getItem("tokenSwissPost");fetch(d,{headers:{Authorization:i}}).then((function(e){return e.json()})).then((function(t){return s(e.originalTarget,t.houses)}))}else s(e.originalTarget,{})}function s(e,t){var n,d=document.getElementById("list");null!=d&&d.remove();var i=document.createElement("ul");i.setAttribute("id","list"),e.after(i);var r=0;t.forEach((function(t){(n=document.createElement("LI")).id=e.name+r,n.classList.add("listItems"),"npa"===e.name?n.innerHTML="".concat(t.zip," ").concat(t.city18):"adress"!==e.name&&"number"!==e.name||(n.innerHTML=t),n.addEventListener("click",u),i.appendChild(n),r++})),""===i.innerHTML&&i.remove()}function u(e){if(document.getElementById("list").remove(),e.target.id.includes("npa")){var t=document.getElementById("srgdev-ncfp_fnpa"),n=document.getElementById("srgdev-ncfp_ftown"),d=e.originalTarget.innerHTML.substring(0,e.originalTarget.innerHTML.indexOf(" ")),i=e.originalTarget.innerHTML.substring(e.originalTarget.innerHTML.indexOf(" ")+1);t.value=d,n.value=i}else if(e.target.id.includes("adress")){var r=document.getElementById("srgdev-ncfp_fadress"),s=e.originalTarget.innerHTML;r.value=s;var u={};u.originalTarget=document.getElementById("srgdev-ncfp_fnumber"),a(u)}else if(e.target.id.includes("number")){var l=document.getElementById("srgdev-ncfp_fnumber"),o=e.originalTarget.innerHTML;l.value=o}}function l(){var e=document.getElementById("srgdev-ncfp_fbtn");this.checked?e.hasAttribute("shade")&&e.removeAttribute("shade"):e.hasAttribute("shade")||e.setAttribute("shade","1"),this.hasAttribute("err")&&this.removeAttribute("err"),this.hasAttribute("required")&&this.removeAttribute("required")}function o(){this.setCustomValidity(""),this.getAttribute("err")?(this.removeAttribute("err"),this.removeEventListener("focus",o,!1)):this.removeEventListener("input",o,!1)}function c(e){var t=0,n={};document.getElementById("srgdev-ncfp_frm").getAttribute("data-translations").split(",").forEach((function(e){var t=e.split(":");n[t[0]]=t[1]}));var d=document.getElementById("srgdev-ncfp_fbtn");if(!0===d.disabled)return e.preventDefault(),e.stopPropagation(),!1;var i,r=(d=document.getElementById("srgdev-ncfp_sel-hidden")).selectedIndex;-1===r||""===d.value?((d=document.getElementById("srgdev-ncfp_sel-dummy")).setAttribute("err","err"),d.addEventListener("focus",o,!1),t=1):i=d.dataRef[r].tzi,null!==(d=document.getElementById("srgdev-ncfp_talk_type"))&&1!==(r=d.selectedIndex)&&2!==r&&(d.setAttribute("err","err"),d.addEventListener("focus",o,!1),t=1),(d=document.getElementById("srgdev-ncfp_fname")).value.length<3&&(d.setCustomValidity(n.name_required),d.addEventListener("input",o,!1),0===t&&d.reportValidity(),t=1),((d=document.getElementById("srgdev-ncfp_femail")).value.length<5||-1===d.value.indexOf("@")||d.value.indexOf("@")>d.value.lastIndexOf("."))&&(d.setCustomValidity(n.email_required),d.addEventListener("input",o,!1),0===t&&d.reportValidity(),t=1),null!==(d=document.getElementById("srgdev-ncfp_fphone"))&&(""===d.value||d.value.length<9||!1===/^[0-9 .()\-+,/]*$/.test(d.value))&&(d.setCustomValidity(n.phone_required),d.addEventListener("input",o,!1),0===t&&d.reportValidity(),t=1);for(var a,s=document.getElementById("srgdev-ncfp-main-inputs").children,u=0,l=s.length;u<l;u++)if((a=s[u]).hasAttribute("data-more")&&("INPUT"===a.tagName||"TEXTAREA"===a.tagName)){var c=a.value.trim();"r1"===a.getAttribute("data-more")&&""===c?(a.setCustomValidity(n.required),a.addEventListener("input",o,!1),0===t&&a.reportValidity(),t=1):a.hasAttribute("type")&&"number"===a.getAttribute("type")&&isNaN(c)&&(a.setCustomValidity(n.number_required),a.addEventListener("input",o,!1),0===t&&a.reportValidity(),t=1)}if(null!==(d=document.getElementById("appt_gdpr_id"))&&!1===d.checked&&(d.setAttribute("err","err"),d.setAttribute("required","1"),t=1),0!==t)return e.preventDefault(),e.stopPropagation(),!1;document.getElementById("srgdev-ncfp_fbtn-spinner").style.display="inline-block",(d=document.createElement("input")).type="hidden",d.name="tzi",d.value=i,this.appendChild(d)}function m(e){document.body.removeEventListener("keyup",p),document.getElementById("srgdev-ncfp_frm").removeEventListener("focusin",g),null===e&&(e=document.getElementById("srgdev-dpu_main-cont")),e.removeAttribute("data-open")}function p(t){"Escape"!==t.key&&"Esc"!==t.key&&27!==t.keyCode||(m(null),e.preventDefault())}function g(e){e.target&&"DIV"!==e.target.nodeName.toUpperCase()&&"SPAN"!==e.target.nodeName.toUpperCase()&&document.getElementById("srgdev-dpu_main-date").firstAvailble.focus()}function v(e){var t=document.getElementById("srgdev-dpu_main-cont");if(null===t.getAttribute("data-open")){t.setAttribute("data-open",""),document.body.addEventListener("keyup",p);var n=document.getElementById("srgdev-dpu_main-date").curActive;n&&-1===n.indexOf("e")&&document.getElementById("srgdev-dpu_dc"+n).focus(),document.getElementById("srgdev-ncfp_frm").addEventListener("focusin",g)}else m(t);return e.preventDefault(),!1}function f(e){if(C(e)||T(e)){var t=document.getElementById("srgdev-dpu_tc_wrap");t&&t.firstChild.focus()}}function h(e){var t=this.id.slice(13),n=this.parentElement.curActive;if(n!==t){n||(n=t);var d=+(""+t).replace("e",""),i=document.getElementById("srgdev-dpu_bf-cont"),r=Math.floor(d/5);r!==i.curDP&&(i.curDP=r,y(i)),document.getElementById("srgdev-dpu_dc"+n).removeAttribute("data-active"),document.getElementById("srgdev-dpu_dc"+t).setAttribute("data-active",""),this.parentElement.curActive=t,"e"===t.slice(-1)&&(t="e");var a=document.getElementById("srgdev-dpu_main-time");if(!a)throw new Error("srgdev-dpu_main-time missing");for(;a.firstChild;)a.removeChild(a.lastChild);if("e"!==t){var s=a.timePages[t],u=document.createElement("div");if(u.className="srgdev-dpu-tc-full-date",u.appendChild(document.createTextNode(s.fullDate)),""!==s.tzn){var l=document.createElement("div");l.className="srgdev-dpu-tc-timezone",l.appendChild(document.createTextNode(s.tzn)),u.appendChild(l)}a.appendChild(u);var o=i.tuClass,c=document.createElement("div");c.className="srgdev-dpu-tc-tu-wrap",c.id="srgdev-dpu_tc_wrap",c.setAttribute("data-dm",s.dataDm),s.timeItems.forEach((function(e){var t=document.createElement("span");if(t.className=o,t.dpuClickID=e.dpuClickID,t.timeAt=e.timeAt,t.appendChild(document.createTextNode(e.time)),""!==e.title){var n=document.createElement("span");n.className="srgdev-dpu-appt-title",n.appendChild(document.createTextNode(e.title)),t.appendChild(n)}t.setAttribute("tabindex","0"),c.appendChild(t)})),a.appendChild(c)}else{var m=document.createElement("div");m.id="srgdev-dpu_tce",m.className="srgdev-dpu-time-cont",m.appendChild(document.createTextNode(document.getElementById("srgdev-ncfp_sel-hidden").getAttribute("data-tr-not-available"))),a.appendChild(m)}this.parentElement.parentElement.scrollLeft=0,e.stopPropagation()}}function E(e){var t=e.target;if(void 0!==t.parentElement.dpuClickID&&(t=t.parentElement),void 0!==t.dpuClickID){document.getElementById("srgdev-ncfp_sel-dummy").value=t.parentElement.getAttribute("data-dm")+" - "+t.timeAt;var n=document.getElementById("srgdev-ncfp_sel-hidden");n.selectedIndex=t.dpuClickID,n.value=n.dataRef[t.dpuClickID].d;var d=n.dataRef[t.dpuClickID].dur,i=(n=document.getElementById("srgdev-ncfp_dur-cont")).getAttribute("data-tr-hr"),r=n.getAttribute("data-tr-mn"),a=function(e){var t="",n=e/60|0;n>0&&(t+=n+i+" ");var d=e-60*n;return t+(d>0?d+r:"")};if(null===d||1===d.length)n.style.display="none";else{var s=n.lastElementChild.children;s[0].textContent=a(d[0]);for(var u,l=1,o=Math.max(s.length,d.length);l<o;l++){if(l>=s.length)(u=document.createElement("option")).className="srgdev-ncfp-form-option",u.appendChild(document.createTextNode("")),n.lastElementChild.appendChild(u);else if(u=s[l],l>=d.length){u.style.display="none";continue}u.style.display="block",u.value=l,u.textContent=a(d[l])}n.style.display="block"}n.lastElementChild.value=0,m(null)}}function y(e){var t;void 0!==e.target?(t=e.target.parentElement,"srgdev-dpu_bf-back"===e.target.id?t.curDP>0&&t.curDP--:(t.curDP<t.maxDP&&t.curDP++,t.curDP===t.maxDP?e.target.setAttribute("disabled",""):e.target.removeAttribute("disabled"))):t=e,0===t.curDP?t.firstElementChild.setAttribute("disabled",""):t.firstElementChild.removeAttribute("disabled"),t.curDP===t.maxDP?t.lastElementChild.setAttribute("disabled",""):t.lastElementChild.removeAttribute("disabled"),document.getElementById("srgdev-dpu_main-date").style.left="-"+5*t.curDP*4.6+"em",document.getElementById("srgdev-dpu_main-cont").scrollLeft=0}function b(e){if(void 0!==e.changedTouches&&e.changedTouches.length>0){var t=e.changedTouches[0],n=this.touchInfo;n.x=t.clientX,n.y=t.clientY,n.id=t.identifier}}function I(e){if(void 0!==e.changedTouches&&e.changedTouches.length>0){var t=e.changedTouches[0],n=this.touchInfo;if(t.identifier===n.id){var d=t.clientX-n.x|0,i=t.clientY-n.y|0,r=d>>31,a=d+r^r;a>(i+(r=i>>31)^r)&&a>50&&(d<0?this.bfNav.lastElementChild.click():this.bfNav.firstElementChild.click())}n.id=-1}}function C(e){return" "===e.key||"Space"===e.code||32===e.keyCode}function T(e){return"Enter"===e.key||"Enter"===e.code||13===e.keyCode}sessionStorage.setItem("tokenSwissPost",n.innerHTML),n.remove(),window.addEventListener("DOMContentLoaded",(function(){var e=document.getElementById("appt_gdpr_id");null!==e&&(e.addEventListener("change",l),l.apply(e));document.getElementById("srgdev-ncfp_fnpa").addEventListener("input",i),document.getElementById("srgdev-ncfp_fadress").addEventListener("input",r),document.getElementById("srgdev-ncfp_fnumber").addEventListener("input",a),document.addEventListener("click",d);var n=document.getElementById("srgdev-ncfp_frm");n.addEventListener("submit",c),setTimeout((function(){n.autocomplete="on"}),1e3),function(e){for(var n,d="nbrWeeks",i="showEmpty",r="startFNED",a="showWeekends",s="showTZ",u="time2Cols",l="endTime",o={},c=e.split("."),p=c.length,g=0;g<p;g++)o[(n=c[g].split(":"))[0]]=+n[1];var v=7*o[d],A=document.getElementById("srgdev-ncfp_sel-hidden");if("2"!==A.getAttribute("data-state"))return void console.log("data-state: ",A.getAttribute("data-state"));var _,D,L=A.getAttribute("data-hdr"),k=A.getAttribute("data-tr-back"),B=A.getAttribute("data-tr-next");_=void 0!==window.monthNames?window.monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"];D=void 0!==window.dayNames?window.dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];var w,x,N,S,P,M=window.Intl&&"object"===t(window.Intl),z=document.documentElement.hasAttribute("data-locale")?[document.documentElement.getAttribute("data-locale").replaceAll("_","-"),document.documentElement.lang]:[document.documentElement.lang];if(M){w=new Intl.DateTimeFormat(z,{hour:"numeric",minute:"2-digit"}).format}else w=function(e){return e.toLocaleTimeString()};if(M){var O=new Intl.DateTimeFormat(z,{month:"long"});x=O.format}else x=function(e){return _[e.getMonth()]};if(M){var H=new Intl.DateTimeFormat(z,{weekday:"short"});N=H.format}else N=function(e){return D[e.getDay()]};if(M){S=new Intl.DateTimeFormat(z,{weekday:"short",month:"long",day:"2-digit"}).format}else S=function(e){return e.toDateString()};if(M){P=new Intl.DateTimeFormat(z,{weekday:"long",month:"long",day:"numeric",year:"numeric"}).format}else P=function(e){return e.toLocaleDateString()};var V=[],F=void 0;if(M){try{F=Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){console.log("no Intl timeZone ",e)}"string"!=typeof F&&(F=void 0)}for(var R,q,U,j,Z,J,W,X,Y,$,G=new Date,K=o[l],Q=A.getAttribute("data-info").split(","),ee=Q.length,te=0;te<ee;te++){if(J=($=Q[te]).indexOf(":",8),G.setTime(1e3*+$.substr(1,J-1)),R=G.getTimezoneOffset(),U=$.charAt(0),j=Z=w(G),Y=G.getTime(),X=null,1!==K&&"T"!==U||(W=J+1,J=$.indexOf(":",W),"T"===U?(X=$.substr(W,J-W).split(";").map((function(e){return 0|e})),1===K&&X.length<2&&(G.setTime(Y+6e4*X[0]),j+=" - "+w(G))):(W=1e3*+$.substr(W,J-W),G.setTime(W),j+=" - "+w(G))),void 0!==F)q=U+F;else{var ne=Math.abs(R),de=Math.floor(ne/60),ie=ne-60*de;q=U+(R>0?"-":"+")+(de<10?"0"+de:de)+(ie<10?"0"+ie:ie)}J++,W=$.indexOf(":",J),V[te]={rts:Y,d:$.substr(J,W-J),t:$.substr(W+2),dur:X,tzi:q,time:j,timeAt:Z}}V.sort((function(e,t){return e.rts>t.rts?1:-1})),V.push({rts:0,d:"",t:"",tzi:"",time:""}),A.dataRef=V;var re=V.length,ae=document.createElement("div");ae.id="srgdev-dpu_main-cont",ae.className="srgdev-dpu-bkr-cls";var se=document.createElement("div");se.id="srgdev-dpu_main-header",se.appendChild(document.createTextNode(L)),ae.appendChild(se);var ue=document.createElement("div");ue.maxDP=0,ue.curDP=0,ue.tuClass="",ue.id="srgdev-dpu_bf-cont",ue.appendChild(document.createElement("span")),ue.appendChild(document.createElement("span")),ue.firstElementChild.id="srgdev-dpu_bf-back",ue.firstElementChild.appendChild(document.createTextNode(k)),ue.firstElementChild.addEventListener("click",y),ue.firstElementChild.setAttribute("disabled",""),ue.lastElementChild.id="srgdev-dpu_bf-next",ue.lastElementChild.appendChild(document.createTextNode(B)),ue.lastElementChild.addEventListener("click",y),ae.appendChild(ue),(se=document.createElement("div")).id="srgdev-dpu_main-date",se.className="srgdev-dpu-bkr-cls",se.style.left="0em",function(e,t){e.touchInfo={x:0,y:0,id:-1},e.bfNav=t,e.addEventListener("touchstart",b),e.addEventListener("touchend",I)}(se,ue),ae.appendChild(se);var le=document.createElement("div");le.id="srgdev-dpu_main-time",ae.appendChild(le);var oe,ce=0,me=5,pe=new Date,ge=-1,ve=-1,fe=!1,he=function(e,t){var n=document.createElement("div");n.id="srgdev-dpu_dc"+ce+(t?"e":""),n.className="srgdev-dpu-date-cont"+(t?" srgdev-dpu-dc-empty":"");var d=document.createElement("span");return d.className=0!==e.getDay()?"srgdev-dpu-date-wd":"srgdev-dpu-date-wd srgdev-dpu-date-wd-sunday",d.appendChild(document.createTextNode(N(e))),n.appendChild(d),(d=document.createElement("span")).className="srgdev-dpu-date-dn",d.appendChild(document.createTextNode(e.getDate())),n.appendChild(d),(d=document.createElement("span")).className="srgdev-dpu-date-md",d.appendChild(document.createTextNode(x(e))),n.appendChild(d),n.addEventListener("click",h),t||(n.setAttribute("tabindex","0"),n.addEventListener("focus",h),n.addEventListener("keyup",f)),ce===me&&(me+=5,ue.maxDP++,ce>v&&(fe=!0)),++ce,n},Ee=new Date;if(Ee.setSeconds(1),Ee.setMinutes(0),Ee.setHours(0),1===o[i]&&0===o[r]){var ye=V[0].rts;pe.setTime(ye),pe.setSeconds(1),pe.setMinutes(0),pe.setHours(0);var be=pe.getDay();be>0&&be<6&&Ee.setTime(pe.getTime()-864e5*(be-1))}0===o[u]||1===o[l]?ue.tuClass="srgdev-dpu-time-unit"+(1===o[l]?"_tn":""):ue.tuClass="srgdev-dpu-time-unit2";oe=1===o[s]&&M?function(e){var t=e.toLocaleDateString(z),n=e.toLocaleDateString(z,{timeZoneName:"long"}),d=n.indexOf(t);return d>=0?(n.substring(0,d)+n.substring(d+t.length)).replace(/^[\s,.\-:;]+|[\s,.\-:;]+$/g,""):n}:function(){return""};for(var Ie,Ce,Te,Ae,_e,De,Le,ke=[],Be=0;Be<re&&0!==(Ie=(De=V[Be]).rts);Be++){pe.setTime(Ie);var we=100*(pe.getMonth()+1)+pe.getDate();if(ge!==we){if(Ae=Ee.getTime(),Ee.setTime(pe.getTime()),Ee.setSeconds(1),Ee.setMinutes(0),Ee.setHours(0),Te=Ee.getTime(),1===o[i])for(;Ae<Te&&(Ee.setTime(Ae),0===(Ce=0===o[a]?Ee.getDay():1)||6===Ce||(se.appendChild(he(Ee,!0)),ke.push({lccIdx:-1,dataDm:"",timeItems:[],fullDate:"",tzn:""}),!fe));)Ae+=864e5;if(fe){pe=Ee;break}Ee.setTime(Ae+864e5),_e=he(pe,!1),-1===ve&&(ve=ce-1,_e.setAttribute("data-active",""),se.firstAvailble=_e),se.appendChild(_e),Le={lccIdx:ce-1,dataDm:S(pe),timeItems:[],fullDate:P(pe),tzn:oe(pe)},ke.push(Le),ge=we}Le.timeItems.push({dpuClickID:Be,timeAt:De.timeAt,time:De.time,title:De.t})}pe.setSeconds(0),pe.setMinutes(0),pe.setHours(1),pe.setTime(pe.getTime()+864e5),le.timePages=ke,ae.addEventListener("click",E),ae.addEventListener("keyup",(function(e){(C(e)||T(e))&&E(e)})),document.getElementById("srgdev-ncfp_sel_cont").appendChild(ae),se.firstAvailble.click(),se.curActive=ve.toString();var xe=Math.floor(ve/5);xe>0&&(ue.curDP=xe,y(ue));(ue=document.createElement("div")).id="srgdev-dpu_main-hdr-icon",ue.className="icon-close",ue.addEventListener("click",(function(){m(null)})),ue.role="button",ue.addEventListener("keyup",(function(e){(C(e)||T(e))&&m(null)})),ue.setAttribute("tabindex","0"),ae.appendChild(ue)}(n.getAttribute("data-pps")),document.getElementById("srgdev-ncfp_sel-dummy").addEventListener("click",v),document.getElementById("srgdev-ncfp_sel-dummy").addEventListener("keyup",(function(e){C(e)&&v(e)})),setTimeout((function(){var e,t=document.getElementById("srgdev-ncfp_fbtn");e=t.hasAttribute("data-tr-ses-to")?t.getAttribute("data-tr-ses-to"):"Session Timeout. Reload.",t.disabled=!0,t.textContent=e}),9e5)}))}()}();